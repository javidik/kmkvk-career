<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Äî –ö–ú–ö–í–ö</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="container header-container">
      <div class="logo-section">
        <img src="assets/logo.png" alt="–ö–ú–ö–í–ö" class="logo">
        <div class="header-title">
          <h2 style="margin: 0; font-size: 18px;">–ö–ú–ö–í–ö</h2>
          <p style="margin: 0; font-size: 12px; opacity: 0.9;">–ü—É—Ç—å –∫ –≤–æ–µ–Ω–Ω–æ–π –∫–∞—Ä—å–µ—Ä–µ</p>
        </div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="vuzy.html" class="nav-link">–í–æ–µ–Ω–Ω—ã–µ –í–£–ó—ã</a></li>
          <li><a href="trebovaniya.html" class="nav-link">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</a></li>
          <li><a href="etapy.html" class="nav-link">–≠—Ç–∞–ø—ã –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</a></li>
          <li><a href="lgoty.html" class="nav-link">–õ—å–≥–æ—Ç—ã</a></li>
          <li><a href="podgotovka.html" class="nav-link">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</a></li>
          <li class="dropdown">
            <a href="#" class="nav-link dropdown-toggle">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="instrumenty.html#podbor" class="nav-link">–ü–æ–¥–±–æ—Ä –í–£–ó–∞</a></li>
              <li><a href="instrumenty.html#calc" class="nav-link">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–∞–ª–ª–æ–≤</a></li>
              <li><a href="instrumenty.html#test" class="nav-link">–¢–µ—Å—Ç –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏</a></li>
            </ul>
          </li>
          <li><a href="uspekhi.html" class="nav-link">–ò—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞</a></li>
          <li><a href="biblioteka.html" class="nav-link">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</a></li>
          <li><a href="contacts.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          <li><a href="login.html" class="nav-link login-link" style="display: none;">–í—Ö–æ–¥</a></li>
          <li><a href="profile.html" class="nav-link account-link" style="display: inline-block;"><i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å</a></li>
        </ul>
        <div class="burger-menu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" style="padding: 60px 24px 40px;">
      <div class="container">
        <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        <p class="hero-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="account-header">
          <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å!</h2>
          <button class="btn btn--secondary" onclick="logoutUser()">
            <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
          </button>
        </div>

        <div class="account-nav">
          <div class="account-nav-item active" onclick="showProfileSection('profile')">–ü—Ä–æ—Ñ–∏–ª—å</div>
          <div class="account-nav-item" onclick="showProfileSection('progress')">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
          <div class="account-nav-item" onclick="showProfileSection('settings')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
          <div class="account-nav-item" onclick="showProfileSection('achievements')">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
        </div>

        <div class="account-grid">
          <div class="account-card profile-section" id="profileSection">
            <h3><i class="fas fa-user-circle"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</h3>
            
            <div style="text-align: center; margin-bottom: var(--space-24);">
              <img src="https://via.placeholder.com/120x120/1a3a52/ffffff?text=–ê–í" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="profile-avatar" id="profileAvatar">
              <h4 class="profile-name" id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</h4>
              <p class="profile-email" id="profileEmail">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            
            <div class="profile-info">
              <div class="profile-info-item">
                <div class="profile-info-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
                <p class="profile-info-value" id="registrationDate">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
              </div>
              
              <div class="profile-info-item">
                <div class="profile-info-label">–°—Ç–∞—Ç—É—Å</div>
                <p class="profile-info-value" id="userStatus">–ö–∞–¥–µ—Ç</p>
              </div>
              
              <div class="profile-info-item">
                <div class="profile-info-label">–ö–ª–∞—Å—Å</div>
                <p class="profile-info-value" id="studentClass">–ù–µ —É–∫–∞–∑–∞–Ω</p>
              </div>
            </div>
            
            <button class="btn btn--primary" style="margin-top: var(--space-16);" onclick="showEditProfileForm()">
              <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
            </button>
          </div>
          
          <div class="account-card" id="progressSection" style="display: none;">
            <h3><i class="fas fa-chart-line"></i> –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
            
            <div class="stats-grid">
              <div class="stat-card">
                <p class="stat-value" id="testsCompleted">0</p>
                <p class="stat-label">–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ</p>
              </div>
              <div class="stat-card">
                <p class="stat-value" id="materialsViewed">0</p>
                <p class="stat-label">–ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏–∑—É—á–µ–Ω–æ</p>
              </div>
              <div class="stat-card">
                <p class="stat-value" id="progressPercentage">0%</p>
                <p class="stat-label">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
              </div>
            </div>
            
            <div class="progress-container">
              <p>–ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é:</p>
              <div class="progress-bar">
                <div class="progress-fill" id="mainProgressBar" style="width: 0%;"></div>
              </div>
              <p style="text-align: right; margin-top: var(--space-4); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏: <span id="preparationLevel">–ù–∞—á–∞–ª—å–Ω—ã–π</span>
              </p>
            </div>
            
            <div style="margin-top: var(--space-16);">
              <h4>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h4>
              <ul id="recentAchievements">
                <li>–ü—Ä–æ–π–¥–µ–Ω —Ç–µ—Å—Ç –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏</li>
                <li>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ 5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</li>
              </ul>
            </div>
          </div>
          
          <div class="account-card" id="settingsSection" style="display: none;">
            <h3><i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
            
            <div class="form-group">
              <label for="newEmail" class="form-label">–ù–æ–≤—ã–π email</label>
              <input type="email" id="newEmail" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π email">
            </div>
            
            <div class="form-group">
              <label for="currentPassword" class="form-label">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
              <input type="password" id="currentPassword" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å">
            </div>
            
            <div class="form-group">
              <label for="newPassword" class="form-label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
              <input type="password" id="newPassword" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
            </div>
            
            <div class="form-group">
              <label for="confirmNewPassword" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
              <input type="password" id="confirmNewPassword" class="form-input" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
            </div>
            
            <button class="btn btn--primary" onclick="updateAccountSettings()">
              <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>
          </div>
          
          <div class="account-card" id="achievementsSection" style="display: none;">
            <h3><i class="fas fa-trophy"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: var(--space-16); margin-top: var(--space-16);">
              <div style="text-align: center; padding: var(--space-16); border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                <div style="font-size: var(--font-size-3xl); color: var(--color-gold-400); margin-bottom: var(--space-8);">üèÜ</div>
                <p style="margin: 0;">–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω</p>
              </div>
              <div style="text-align: center; padding: var(--space-16); border: 1px solid var(--color-border); border-radius: var(--radius-md); opacity: 0.5;">
                <div style="font-size: var(--font-size-3xl); color: var(--color-gray-400); margin-bottom: var(--space-8);">üìö</div>
                <p style="margin: 0;">5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</p>
              </div>
              <div style="text-align: center; padding: var(--space-16); border: 1px solid var(--color-border); border-radius: var(--radius-md); opacity: 0.5;">
                <div style="font-size: var(--font-size-3xl); color: var(--color-gray-400); margin-bottom: var(--space-8);">üí™</div>
                <p style="margin: 0;">–§–∏–∑–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
              </div>
              <div style="text-align: center; padding: var(--space-16); border: 1px solid var(--color-border); border-radius: var(--radius-md); opacity: 0.5;">
                <div style="font-size: var(--font-size-3xl); color: var(--color-gray-400); margin-bottom: var(--space-8);">üéØ</div>
                <p style="margin: 0;">–¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-container">
      <div class="footer-section">
        <h3>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        <p>Email: <a href="mailto:info@kmkvk.ru">info@kmkvk.ru</a></p>
        <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (812) 000-00-00</p>
      </div>
      <div class="footer-section">
        <h3>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h3>
        <div class="social-links">
          <a href="#" class="social-link"><i class="fab fa-vk"></i> VK</a>
          <a href="#" class="social-link"><i class="fab fa-youtube"></i> YouTube</a>
        </div>
      </div>
      <div class="footer-section">
        <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
        <ul class="footer-links">
          <li><a href="trebovaniya.html">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</a></li>
          <li><a href="etapy.html">–≠—Ç–∞–ø—ã</a></li>
          <li><a href="biblioteka.html">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 –ö–ú–ö–í–ö. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <script src="js/main.js"></script>
  <script>
    // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é –ø—Ä–æ—Ñ–∏–ª—è
    function showProfileSection(section) {
      // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å–µ–∫—Ü–∏–∏
      document.getElementById('profileSection').style.display = 'none';
      document.getElementById('progressSection').style.display = 'none';
      document.getElementById('settingsSection').style.display = 'none';
      document.getElementById('achievementsSection').style.display = 'none';
      
      // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
      document.getElementById(section + 'Section').style.display = 'block';
      
      // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
      document.querySelectorAll('.account-nav-item').forEach(item => {
        item.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // –ï—Å–ª–∏ —ç—Ç–æ —Å–µ–∫—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
      if (section === 'progress') {
        updateProgressData();
      }
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    function updateProgressData() {
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
      // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
      document.getElementById('testsCompleted').textContent = Math.floor(Math.random() * 15);
      document.getElementById('materialsViewed').textContent = Math.floor(Math.random() * 25);
      const progress = Math.floor(Math.random() * 100);
      document.getElementById('progressPercentage').textContent = progress + '%';
      document.getElementById('mainProgressBar').style.width = progress + '%';
      
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
      let level = '–ù–∞—á–∞–ª—å–Ω—ã–π';
      if (progress >= 80) level = '–í—ã—Å–æ–∫–∏–π';
      else if (progress >= 60) level = '–•–æ—Ä–æ—à–∏–π';
      else if (progress >= 40) level = '–°—Ä–µ–¥–Ω–∏–π';
      
      document.getElementById('preparationLevel').textContent = level;
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
    function showEditProfileForm() {
      const currentName = document.getElementById('profileName').textContent;
      const currentClass = document.getElementById('studentClass').textContent;
      
      const newName = prompt('–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:', currentName);
      if (newName !== null && newName.trim() !== '') {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–º—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ
        document.getElementById('profileName').textContent = newName;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if (currentUser) {
          currentUser.name = newName;
          localStorage.setItem('kmkvk_user', JSON.stringify(currentUser));
        }
        
        alert('–ò–º—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!');
      }
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–∫–∫–∞—É–Ω—Ç–∞
    function updateAccountSettings() {
      const newEmail = document.getElementById('newEmail').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmNewPassword = document.getElementById('confirmNewPassword').value;
      
      if (newPassword && newPassword !== confirmNewPassword) {
        alert('–ù–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
        return;
      }
      
      if (newPassword && newPassword.length < 6) {
        alert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤');
        return;
      }
      
      if (newEmail && !validateEmail(newEmail)) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');
        return;
      }
      
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
      // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∂–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
      alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!');
      
      // –û–±–Ω–æ–≤–ª—è–µ–º email –µ—Å–ª–∏ –æ–Ω –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω
      if (newEmail && currentUser) {
        currentUser.email = newEmail;
        document.getElementById('profileEmail').textContent = newEmail;
        localStorage.setItem('kmkvk_user', JSON.stringify(currentUser));
      }
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
      if (!isAuthenticated) {
        window.location.href = 'login.html';
        return;
      }
      
      updateProfilePage();
      
      // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      if (currentUser) {
        document.getElementById('profileName').textContent = currentUser.name;
        document.getElementById('profileEmail').textContent = currentUser.email;
        document.getElementById('registrationDate').textContent = new Date(currentUser.registrationDate).toLocaleDateString('ru-RU');
        
        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
        if (currentUser.studentClass) {
          const classText = currentUser.studentClass + ' –∫–ª–∞—Å—Å';
          document.getElementById('studentClass').textContent = classText;
        }
      }
    });
  </script>
</body>
</html>